= Media
:page-slug: media
:page-description: Standard VCC for selecting an image, file, sound, or video.
:figure-caption!:

* Users can
//tag::description[]
select an image, file, sound, or video by selecting from the available options, uploading, or entering a URL.
//end::description[]

image::mediaVCC.png[title="Media VCC"]

== Sample media VCC

[source,json]
----
{
    "key": "imageOrVideo",
    "name": "Image or Video",
    "type": "media",
    "typeOptions": {
        "acceptOnly": ["image", "video"],
        "videoOptions": {
            "hls": true
        }
    }
}
----

== Type options

The following code sample shows all the available `typeOptions`.
Each option is described in the sections that follow the sample.

[source,json]
----
{
    "name": "Media Upload",
    "type": "media",
    "typeOptions": {
        "acceptOnly": ["image", "video", "audio"],
        "returnType": "url"|"extended",
        "hideExtensions": false,
        "videoOptions": {
            "hls": true,
            "estimatePoses": false
        },
        "imageOptions": {
            "width": 100,
        },
        "audioOptions": {},
        "fileOptions": {}
    }
}
----

=== acceptOnly

`acceptOnly` allows you to specify the VCC types that are allowed.
The value for `acceptOnly` is an array of one or more VCC types.
If the array contains more than one type, then the user can choose any file of a type that matches one of the types in the array.
For example, `"acceptOnly": ["image", "video"]` allows the user to select an image file or a video file.
If the value of `acceptOnly` is an empty array, or if `acceptOnly` is not included in `typeOptions`, then any file type will be allowed.

The possible types are as follows.

* *image* - If you set `acceptOnly` to an array containing `image`, the user will be prompted to choose an image file for the VCC.
Using a `media` VCC with `acceptOnly` set to `["image"]` is equivalent to using an <<image#, image VCC>>.

* *video* - If you set `acceptOnly` to an array containing `video`, the user will be prompted to choose a video file for the VCC.
Using a `media` VCC with `acceptOnly` set to `["video"]` is equivalent to using a <<video#, video VCC>>.

* *audio* - If you set `acceptOnly` to an array containing `audio`, the user will be prompted to choose a sound file for the VCC.
Using a `media` VCC with `acceptOnly` set to `["audio"]` is equivalent to using a <<sound#, sound VCC>>.

* *file* - If you set `acceptOnly` to an array containing `file`, the user will be prompted to choose a file for  the VCC. The file selected can be of any type.
Using a `media` VCC with `acceptOnly` set to `["file"]` is equivalent to using a <<file#, file VCC>>.

=== returnType

`returnType` takes a value of `url` or `extended`.
If `returnType` is set to `url`, a string will be returned.
If it's set to `extended`, an object will be returned.

[source,json]
----
{
    "url": "string",
    "type": "string",
    "sizeBytes": "string",
    "videoMetadata": {
        "thumbnailUrl": "string",
    },
    "audioMetadata": {
        "durationSeconds": "number",
    },
    "imageMetadata": {
        "naturalWidth": "number",
        "naturalHeight": "number",
    }
}
----

=== hideExtensions

TheÂ `media` VCC type enables you to hide all asset packs and VCC extensions in cases where they don't make sense (for example, templates for selling premium assets).
To use this feature in your templates, enable the `hideExtensions` type option.
In the following code sample, extensions are hidden, so *Browse Image Asset Packs* will not appear as a selection.

[source,json]
----
{
    "key": "hideExtensions",
    "name": "Image or Video No Extensions",
    "type": "media",
    "typeOptions": {
        "acceptOnly": ["image", "video"],
        "hideExtensions": true,
        "videoOptions": {
            "hls": true
        }
    }
}
----

The above sample code will display the following selections.

image::mediaNoExtensionsVCC.png[title="Media No Extensions VCC"]

=== videoOptions

For delivery of longer content, HTTP Live Streaming (HLS) can be enabled by setting `hls` to true. When enabled, uploaded videos are transcoded for HLS and return an m3u8 playlist. Use this feature in conjunction with https://github.com/video-dev/hls.js/[hls.js] for controlling playback.

Pose detection data can be generated by setting `estimatePoses` to true.
When specified, pose data is available after upload by appending `.poses` to the returned URL.
For example, `\https://objects.koji-cdn.com/project-id/my-video.mp4.poses`.
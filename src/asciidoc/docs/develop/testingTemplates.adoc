= Testing templates
:page-slug: testing-templates
:page-description: A consolidated resource for methods a developer can use to test templates

There are many ways you can test your Koji templates.
Typically, you will begin testing in the Koji editor.
Later, you'll want to publish the template as *Unlisted*, so you can test it in a production environment before giving access to general users.
Some of the most common testing methods are listed below.

== Testing in the Koji editor

There are many options in the Koji editor for previewing a template's behavior.
These are covered in more detail in the documentation for the editor (see <<editor#>>).

=== Previewing the Koji

The *Live preview* tab allows you to toggle between *Preview* mode, which shows what the Koji looks like when running and *Editing* mode, which allows you to perform remixing in the preview.

The *Remote* tab offers several additional ways of previewing your Koji.
You can test it on your mobile device by scanning a QR code.
There are also options for opening the Koji in a new tab, running it in a live player, or copying the link for the preview.
If you share this link with someone else, they can preview the Koji while it's still in development.

[NOTE]
The remote preview link will only work for as long as your editor session is still active, so it is not suitable for long-term sharing.

The *Routes* tab lets you test your backend routes.
It's similar to using a program like curl or Fiddler.
For instance, you can manually enter an HTTP request, configure a header for it, send the request, and examine the results returned by the server.

=== Writing to the console

You can test javascript code by using the `console.log` method.
This method prints to the console.
To see the console in the Koji editor, open the *Thumbnail* tab and click on the following button:

image::consoleButton.jpg[Console button]

For example, the following code snippet prints *Key pressed* to the Koji console every time you press a key, as long as the *Live preview* pane is selected.

[NOTE]
You can select *Live preview* by clicking anywhere in its pane.

[source,javascript]
----
    $(window).keydown(function (e) {
        KEY_STATUS.keyDown = true;
        if (KEY_CODES[e.keyCode]) {
            e.preventDefault();
            KEY_STATUS[KEY_CODES[e.keyCode]] = true;
        }
        console.log("Key pressed");
    }).keyup(function (e) {
        KEY_STATUS.keyDown = false;
        if (KEY_CODES[e.keyCode]) {
            e.preventDefault();
            KEY_STATUS[KEY_CODES[e.keyCode]] = false;
        }
    });
----

=== Viewing messages passed between Koji and the iframe

Your Koji is displayed in an iframe in the browser.
Messages are passed back and forth between this iframe and the Koji.
It may be useful to view these messages.
You can do this in the Koji editor.

The *Live preview* pane includes a tab that displays a thumbnail for the Koji.
Below the thumbnail are a number of buttons.

Find the button that looks like this:

image::bridgeMessagesButton.jpg[View messages]

Click this button to open a pane that displays these messages.

=== Testing feed autoplay

If you have videos or audio files in your Koji that play automatically, you may want them to play only when they are visible to the user.
For instance, if the user scrolls past a video, it should start playing when it first scrolls into view and stop playing when it scrolls offscreen.
To test the autoplay feature, you can open a published template and append `?feedDebug=true` to the URL.
The template is loaded in the feed 10 times and you can swipe or scroll through to ensure the animation starts and stops as expected.
If you haven't published the template yet, you can perform the same test by using *Debug in live player* in the *Remote* tab.
This opens a preview in a new browser tab.

[NOTE]
`Open in new tab` will not work.
This takes you to a staging area, where this feature is not available.

== Trying out your Koji

If you publish your template as *Unlisted*, you can test it under exactly the same conditions as a general user, but no general users will have access to it.

Click *Publish form*.

Click *Show advanced options* near the bottom of the form.

Select the *Unlisted* checkbox.

image::publishUnlisted.jpg[Select *Unlisted*]

Click *Publish* and follow the directions to publish your template.
(See <<publish-locally-developed#,Publishing a project you developed locally>>.)

When you're ready to give general users access, just unselect the checkbox and republish the template.


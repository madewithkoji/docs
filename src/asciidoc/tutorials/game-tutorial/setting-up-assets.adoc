= Setting up assets
:page-slug: game-tutorial-setting-up-assets
:page-description: Setting up settings and loading assets for our game
:figure-caption!:

In this section, we will:

- Set up our `koji.json` file.
- Define and load our game assets.
- Define some of our game settings.

== koji.json

First, let's define our game assets.

Inside of `koji.json`, you'll find the `remixData` object.
Let's make some changes to it.

We need images for our Player and Collectible objects:

image:https://images.koji-cdn.com/814f445d-4e8d-40cb-83fe-04d120cc1889/userData/x0kfr-player.png[alt="player cat",width=128,height=128]
image:https://images.koji-cdn.com/5f618aa2-e515-49a1-adb2-42dfb88a6f59/userData/1d6jr-donut.png[alt="collectible donut",width=128,height=128]

As well as sounds for when the player collects or misses anything.
Update `koji.json` as follows.

[source, json]
----
"remixData": {
  "musicVolume": 0.25,
  ...
  "title": "My Awesome Game",
  "imgLife": "https://images.koji-cdn.com/c166301e-e9be-4a9c-8d08-aaffe23d82bb/userData/3z6gw-life.png",
  "imgPlayer": "https://images.koji-cdn.com/814f445d-4e8d-40cb-83fe-04d120cc1889/userData/x0kfr-player.png",
  "imgCollectible": "https://images.koji-cdn.com/5f618aa2-e515-49a1-adb2-42dfb88a6f59/userData/1d6jr-donut.png",
  "sndCollect": "https://objects.koji-cdn.com/814f445d-4e8d-40cb-83fe-04d120cc1889/userData/ydx3v-collect01onlineaudioconverter.com.mp3.mp3",
  "sndLoseLife": "https://objects.koji-cdn.com/814f445d-4e8d-40cb-83fe-04d120cc1889/userData/vqnq8-loseLife.mp3.mp3"
},
----

[NOTE]
The game template has code that automatically loads any sound file whose name begins with `snd`,
so you can save yourself some trouble if you follow that naming convention.

There are some other entries included in `remixData`.
Let's modify the `title` and `backgroundImage` entries to give our game a more distinct look.

[source, json]
----
"remixData": {
    "music": "https://objects.koji-cdn.com/45cdb5ca-8318-4318-8271-d0e422e790e0/hjdo0-music.mp3",
    "musicVolume": 0.25,
    "title": "Catch The Donuts",
    "backgroundImage": "https://images.koji-cdn.com/377f7596-8edf-44b1-994d-f9926b3aa641/userData/682dt-G68b11.png",
    ...
},
----

The `remixData` object should now look something like this:

[source,json]
----
"remixData": {
    "music": "https://objects.koji-cdn.com/45cdb5ca-8318-4318-8271-d0e422e790e0/hjdo0-music.mp3",
    "musicVolume": 0.25,
    "title": "Catch The Donuts",
    "backgroundImage": "https://images.koji-cdn.com/377f7596-8edf-44b1-994d-f9926b3aa641/userData/682dt-G68b11.png",
    "imgParticles": [
      "https://images.koji-cdn.com/d4d2aab7-1847-481d-8aa6-6866d81d5e0f/6ik7b-star1.png",
      "https://images.koji-cdn.com/d4d2aab7-1847-481d-8aa6-6866d81d5e0f/xvpr0-star3.png",
      "https://images.koji-cdn.com/d4d2aab7-1847-481d-8aa6-6866d81d5e0f/0pfca-start2.png",
      "https://images.koji-cdn.com/d4d2aab7-1847-481d-8aa6-6866d81d5e0f/mwf5o-star5.png"
    ],
    "particle": "https://images.koji-cdn.com/d4d2aab7-1847-481d-8aa6-6866d81d5e0f/zfnue-particle2.png",
    "imgLife": "https://images.koji-cdn.com/c166301e-e9be-4a9c-8d08-aaffe23d82bb/userData/3z6gw-life.png",
    "imgPlayer": "https://images.koji-cdn.com/814f445d-4e8d-40cb-83fe-04d120cc1889/userData/x0kfr-player.png",
    "imgCollectible": "https://images.koji-cdn.com/5f618aa2-e515-49a1-adb2-42dfb88a6f59/userData/1d6jr-donut.png",
    "sndCollect": "https://objects.koji-cdn.com/814f445d-4e8d-40cb-83fe-04d120cc1889/userData/ydx3v-collect01onlineaudioconverter.com.mp3.mp3",
    "sndLoseLife": "https://objects.koji-cdn.com/814f445d-4e8d-40cb-83fe-04d120cc1889/userData/vqnq8-loseLife.mp3.mp3"
  },
----

[NOTE]
Don't forget to save your changes and reload the live preview after editing `koji.json`.

If you have a Live Preview running, notice that the background image has already changed, as well as the player image in the main menu!

== Loading assets

Now that we've added our assets to `remixData`, we need to load them inside our game, so we can use them later.

We do all of our loading in `frontend/src/Components/Game/preload.js`

We don't have to do anything to load our sounds, since we've set them up to load automatically.

To load images, we use `addImage()`:

[source,javascript]
const preload = () => {
  ...
  const remixValues = Koji.remix.get();
  ...
  addImage('player', remixValues.imgPlayer, game.playerSize);
  addImage('collectible', remixValues.imgCollectible, 100);
  ...
}

Note that we use `game.playerSize` as player size.
We need to define that as well.
We define all of our game settings in `initializeValues()`.

[source,javascript]
import isMobile from '../../Utils/isMobile'
...
const initializeValues = () => {
    ...
    game.playerSize = isMobile() ? 90 : 110;
}

Since there's considerable difference between mobile and desktop display sizes, we use the `isMobile()` function to set the `playerSize` according to the device.

We can also change game instructions here by modifying the `game.instructions` property.
Change it to something like: 

`game.instructions = "Touch to move around!";`

== Wrapping up

We set up some starting values and loaded our images and sounds into the game.

In the <<game-tutorial-creating-game-objects#,next section>>, we'll add the `Player` and `Collectible` classes.